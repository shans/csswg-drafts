<!doctype html>
<html lang="en">
 <head>
  
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  
  
  <title>CSS Animations Level 2</title>
  
  
  <meta content="exploring" name="csswg-work-status">
  
  
  <meta content="ED" name="w3c-status">
  
  
  <link href="../default.css" rel="stylesheet" type="text/css">
  
  
  <link href="../csslogo.ico" rel="shortcut icon" type="image/x-icon">
  
  
  <style>
  body {
    background: url("https://www.w3.org/StyleSheets/TR/logo-ED") top left no-repeat white;
    background-attachment: fixed;
    color: black;
    font-family: sans-serif;
    margin: 0 auto;
    max-width: 50em;
    padding: 2em 1em 2em 70px;
  }
  :link { color: #00C; background: transparent }
  :visited { color: #609; background: transparent }
  a[href]:active { color: #C00; background: transparent }
  a[href]:hover { background: #ffa }

  a[href] img { border-style: none }

  h1, h2, h3, h4, h5, h6 { text-align: left }
  h1, h2, h3 { color: #005A9C; }
  h1 { font: 170% sans-serif }
  h2 { font: 140% sans-serif }
  h3 { font: 120% sans-serif }
  h4 { font: bold 100% sans-serif }
  h5 { font: italic 100% sans-serif }
  h6 { font: small-caps 100% sans-serif }

  .hide { display: none }

  div.head { margin-bottom: 1em }
  div.head h1 { margin-top: 2em; clear: both }
  div.head table { margin-left: 2em; margin-top: 2em }

  p.copyright { font-size: small }
  p.copyright small { font-size: small }

  pre { margin-left: 2em }
  dt { font-weight: bold }

  ul.toc, ol.toc {
    list-style: none;
  }
  </style>
  

  <meta content="Bikeshed 1.0.0" name="generator">
  <style>.highlight .hll { background-color: #ffffcc }
.highlight  { background: #ffffff; }
.highlight .c { color: #708090 } /* Comment */
.highlight .k { color: #990055 } /* Keyword */
.highlight .l { color: #669900 } /* Literal */
.highlight .n { color: #0077aa } /* Name */
.highlight .o { color: #999999 } /* Operator */
.highlight .p { color: #999999 } /* Punctuation */
.highlight .cm { color: #708090 } /* Comment.Multiline */
.highlight .cp { color: #708090 } /* Comment.Preproc */
.highlight .c1 { color: #708090 } /* Comment.Single */
.highlight .cs { color: #708090 } /* Comment.Special */
.highlight .kc { color: #990055 } /* Keyword.Constant */
.highlight .kd { color: #990055 } /* Keyword.Declaration */
.highlight .kn { color: #990055 } /* Keyword.Namespace */
.highlight .kp { color: #990055 } /* Keyword.Pseudo */
.highlight .kr { color: #990055 } /* Keyword.Reserved */
.highlight .kt { color: #990055 } /* Keyword.Type */
.highlight .ld { color: #669900 } /* Literal.Date */
.highlight .m { color: #990055 } /* Literal.Number */
.highlight .s { color: #669900 } /* Literal.String */
.highlight .na { color: #0077aa } /* Name.Attribute */
.highlight .nc { color: #0077aa } /* Name.Class */
.highlight .no { color: #0077aa } /* Name.Constant */
.highlight .nd { color: #0077aa } /* Name.Decorator */
.highlight .ni { color: #0077aa } /* Name.Entity */
.highlight .ne { color: #0077aa } /* Name.Exception */
.highlight .nf { color: #0077aa } /* Name.Function */
.highlight .nl { color: #0077aa } /* Name.Label */
.highlight .nn { color: #0077aa } /* Name.Namespace */
.highlight .py { color: #0077aa } /* Name.Property */
.highlight .nt { color: #0077aa } /* Name.Tag */
.highlight .nv { color: #0077aa } /* Name.Variable */
.highlight .ow { color: #999999 } /* Operator.Word */
.highlight .mb { color: #990055 } /* Literal.Number.Bin */
.highlight .mf { color: #990055 } /* Literal.Number.Float */
.highlight .mh { color: #990055 } /* Literal.Number.Hex */
.highlight .mi { color: #990055 } /* Literal.Number.Integer */
.highlight .mo { color: #990055 } /* Literal.Number.Oct */
.highlight .sb { color: #669900 } /* Literal.String.Backtick */
.highlight .sc { color: #669900 } /* Literal.String.Char */
.highlight .sd { color: #669900 } /* Literal.String.Doc */
.highlight .s2 { color: #669900 } /* Literal.String.Double */
.highlight .se { color: #669900 } /* Literal.String.Escape */
.highlight .sh { color: #669900 } /* Literal.String.Heredoc */
.highlight .si { color: #669900 } /* Literal.String.Interpol */
.highlight .sx { color: #669900 } /* Literal.String.Other */
.highlight .sr { color: #669900 } /* Literal.String.Regex */
.highlight .s1 { color: #669900 } /* Literal.String.Single */
.highlight .ss { color: #669900 } /* Literal.String.Symbol */
.highlight .vc { color: #0077aa } /* Name.Variable.Class */
.highlight .vg { color: #0077aa } /* Name.Variable.Global */
.highlight .vi { color: #0077aa } /* Name.Variable.Instance */
.highlight .il { color: #990055 } /* Literal.Number.Integer.Long */
        .highlight { background: hsl(24, 20%, 95%); }
        pre.highlight { padding: 1em; margin: .5em 0; overflow: auto; }
        :not(pre).highlight { padding: .1em; border-radius: .3em; }
        </style>
 </head>
 

 <body class="h-entry">

  <div class="head">
  
   <p data-fill-with="logo"><a class="logo" href="http://www.w3.org/">
    <img alt="W3C" height="48" src="https://www.w3.org/Icons/w3c_home" width="72">
</a>
</p>
  
   <h1 class="p-name no-ref" id="title">CSS Animations Level 2</h1>
  
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Editor’s Draft,
    <time class="dt-updated" datetime="2015-08-21">21 August 2015</time></span></h2>
  
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="http://dev.w3.org/csswg/css-animations-2/">http://dev.w3.org/csswg/css-animations-2/</a>
     <dt>Feedback:
     <dd><span><a href="mailto:www-style@w3.org?subject=%5Bcss-animations-2%5D%20YOUR%20TOPIC%20HERE">www-style@w3.org</a> with subject line “<kbd>[css-animations-2] <var>… message topic …</var></kbd>” (<a href="http://lists.w3.org/Archives/Public/www-style/" rel="discussion">archives</a>)</span>
     <dt>Issue Tracking:
     <dd><a href="#issues-index">Inline In Spec</a>
     <dt class="editor">Editor:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:dbaron@dbaron.org">L. David Baron</a> (<span class="p-org org">Mozilla</span>)
     <dt>Issues List:
     <dd><span><a href="https://www.w3.org/Bugs/Public/buglist.cgi?component=Animations&amp;list_id=36653&amp;product=CSS&amp;query_format=advanced&amp;resolution=---">In Bugzilla</a></span>
     <dd><span></span>
    </dl>
   </div>
  
   <div data-fill-with="warning"></div>
  
   <p class="copyright" data-fill-with="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2015 <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.
</p>
  
   <hr title="Separator for header">
</div>


  <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>

  <div class="p-summary" data-fill-with="abstract">
   <p>This CSS module describes a way for authors to animate the values of CSS properties over time, using keyframes. The behavior of these keyframe animations can be controlled by specifying their duration, number of repeats, and repeating behavior.</p>

<a href="http://www.w3.org/TR/CSS/">CSS</a> is a language for describing the rendering of structured documents 
(such as HTML and XML) 
on screen, on paper, in speech, etc.</div>


  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>

  <div data-fill-with="status">
   <p>
	This is a public copy of the editors’ draft.
	It is provided for discussion only and may change at any moment.
	Its publication here does not imply endorsement of its contents by W3C.
	Don’t cite this document other than as work in progress.

</p>
   <p>
	The (<a href="http://lists.w3.org/Archives/Public/www-style/">archived</a>) public mailing list
	<a href="mailto:www-style@w3.org?Subject=%5Bcss-animations-2%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>
	(see <a href="http://www.w3.org/Mail/Request">instructions</a>)
	is preferred for discussion of this specification.
	When sending e-mail,
	please put the text “css-animations-2” in the subject,
	preferably like this:
	“[css-animations-2] <em>…summary of comment…</em>”

</p>
   <p>
	This document was produced by the <a href="http://www.w3.org/Style/CSS/members">CSS Working Group</a>
	(part of the <a href="http://www.w3.org/Style/">Style Activity</a>).

</p>
   <p>
	This document was produced by a group operating under
	the <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 W3C Patent Policy</a>.
	W3C maintains a <a href="http://www.w3.org/2004/01/pp-impl/32061/status" rel="disclosure">public list of any patent disclosures</a>
	made in connection with the deliverables of the group;
	that page also includes instructions for disclosing a patent.
	An individual who has actual knowledge of a patent which the individual believes contains <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential Claim(s)</a>
	must disclose the information in accordance with <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the W3C Patent Policy</a>.

</p>
   <p>
	This document is governed by the <a href="http://www.w3.org/2014/Process-20140801/" id="w3c_process_revision">1 August 2014 W3C Process Document</a>.

</p>
   <p>
	
</p></div>

  <div data-fill-with="at-risk"></div>


  <h2 class="no-num no-toc no-ref heading settled" id="contents"><span class="content">Table of Contents</span></h2>

  <div data-fill-with="table-of-contents" role="navigation">
   <ul class="toc" role="directory">
    <li><a href="#delta"><span class="secno">1</span> <span class="content">Delta specification</span></a>
    <li><a href="#animations"><span class="secno">2</span> <span class="content">Animations</span></a>
     <ul class="toc">
      <li><a href="#resolving-an-animation-name"><span class="secno">2.1</span> <span class="content">Resolving an <span class="property">animation-name</span></span></a>
     </ul>
    <li><a href="#keyframes"><span class="secno">3</span> <span class="content">Keyframes</span></a>
     <ul class="toc">
      <li><a href="#animation-composition"><span class="secno">3.1</span> <span class="content">The <span class="property">animation-composition</span> property</span></a>
      <li><a href="#animation-events"><span class="secno">3.2</span> <span class="content">Animation events</span></a>
      <li><a href="#event-animationevent"><span class="secno">3.3</span> <span class="content">Types of <code>AnimationEvent</code></span></a>
      <li><a href="#event-dispatch"><span class="secno">3.4</span> <span class="content">Event dispatch</span></a>
     </ul>
    <li><a href="#web-animations-instantiation-of-CSS-animations"><span class="secno">4</span> <span class="content">Web Animations Instantiation of CSS Animations</span></a>
     <ul class="toc">
      <li><a href="#owning-element-section"><span class="secno">4.1</span> <span class="content">Owning element</span></a>
      <li><a href="#animation-composite-order"><span class="secno">4.2</span> <span class="content">Animation composite order</span></a>
      <li><a href="#interaction-between-animation-play-state-and-web-animations-API"><span class="secno">4.3</span> <span class="content">Interaction between <span class="property">animation-play-state</span> and the Web Animations API</span></a>
     </ul>
    <li><a href="#DOM-interfaces"><span class="secno">5</span> <span class="content">DOM interfaces</span></a>
     <ul class="toc">
      <li><a href="#the-CSSAnimation-interface"><span class="secno">5.1</span> <span class="content">The CSSAnimation interface</span></a>
      <li><a href="#requirements-on-pending-style-changes"><span class="secno">5.2</span> <span class="content">Requirements on pending style changes</span></a>
     </ul>
    <li><a href="#conformance"><span class="secno"></span> <span class="content">
Conformance</span></a>
     <ul class="toc">
      <li><a href="#conventions"><span class="secno"></span> <span class="content">
Document conventions</span></a>
      <li><a href="#conformance-classes"><span class="secno"></span> <span class="content">
Conformance classes</span></a>
      <li><a href="#partial"><span class="secno"></span> <span class="content">
Partial implementations</span></a>
      <li><a href="#experimental"><span class="secno"></span> <span class="content">
Experimental implementations</span></a>
      <li><a href="#testing"><span class="secno"></span> <span class="content">
Non-experimental implementations</span></a>
     </ul>
    <li><a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ul class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ul>
    <li><a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ul class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ul>
    <li><a href="#property-index"><span class="secno"></span> <span class="content">Property Index</span></a>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ul></div>

  <main>






   <h2 class="heading settled" data-level="1" id="delta"><span class="secno">1. </span><span class="content">Delta specification</span><a class="self-link" href="#delta"></a></h2>


   <p>This is a delta specification, meaning that it currently contains
only the differences from CSS Animations Level 1 <a data-link-type="biblio" href="#biblio-css3-animations">[CSS3-ANIMATIONS]</a>.
Once the Level 1 specification is closer to complete, it will be merged
with the additions here into a complete level 2 specification.</p>


   <h2 class="heading settled" data-level="2" id="animations"><span class="secno">2. </span><span class="content">Animations</span><a class="self-link" href="#animations"></a></h2>


   <h3 class="heading settled" data-level="2.1" id="resolving-an-animation-name"><span class="secno">2.1. </span><span class="content">Resolving an <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-animations-1/#propdef-animation-name">animation-name</a></span><a class="self-link" href="#resolving-an-animation-name"></a></h3>


   <p class="issue" id="issue-d5205d6c"><a class="self-link" href="#issue-d5205d6c"></a> Something like this: <a href="https://lists.w3.org/Archives/Public/www-style/2015Jul/0391.html">https://lists.w3.org/Archives/Public/www-style/2015Jul/0391.html</a>.</p>


   <h2 class="heading settled" data-level="3" id="keyframes"><span class="secno">3. </span><span class="content">Keyframes</span><a class="self-link" href="#keyframes"></a></h2>


   <h3 class="heading settled" data-level="3.1" id="animation-composition"><span class="secno">3.1. </span><span class="content">The <a class="property" data-link-type="propdesc" href="#propdef-animation-composition">animation-composition</a> property</span><a class="self-link" href="#animation-composition"></a></h3>


   <p>TBD</p>


   <table class="definition propdef" data-link-for-hint="animation-composition">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="css" data-dfn-type="property" data-export="" id="propdef-animation-composition">animation-composition<a class="self-link" href="#propdef-animation-composition"></a></dfn>
     <tr class="value">
      <th>Value:
      <td class="prod"><a class="production css" data-link-type="type" href="#typedef-single-animation-composition">&lt;single-animation-composition></a><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-3/#mult-comma">#</a>
     <tr>
      <th>Initial:
      <td>replace
     <tr>
      <th>Applies to:
      <td>all elements, ::before and ::after pseudo-elements
     <tr>
      <th>Inherited:
      <td>none
     <tr>
      <th>Percentages:
      <td>N/A
     <tr>
      <th>Media:
      <td>interactive
     <tr>
      <th>Computed value:
      <td>As specified
     <tr>
      <th>Animatable:
      <td>no
     <tr>
      <th>Canonical order:
      <td>per grammar</table>


   <p><dfn class="css" data-dfn-type="type" data-export="" id="typedef-single-animation-composition">&lt;single-animation-composition><a class="self-link" href="#typedef-single-animation-composition"></a></dfn> = replace | add | accumulate</p>


   <p>The values of <a class="property" data-link-type="propdesc" href="#propdef-animation-composition">animation-composition</a> have the following meanings:</p>


   <p>TBD</p>


   <h3 class="heading settled" data-level="3.2" id="animation-events"><span class="secno">3.2. </span><span class="content">Animation events</span><a class="self-link" href="#animation-events"></a></h3>


   <h3 class="heading settled" data-level="3.3" id="event-animationevent"><span class="secno">3.3. </span><span class="content">Types of <code>AnimationEvent</code></span><a class="self-link" href="#event-animationevent"></a></h3>

  
   <p>The <em>additional</em> types of animation events that can occur are:</p>

  
   <dl>
    
    <dt><dfn class="idl-code" data-dfn-for="animationevent" data-dfn-type="event" data-export="" id="dom-animationevent-animationcancel">animationcancel<a class="self-link" href="#dom-animationevent-animationcancel"></a></dfn>
    
    <dd>
      The <a data-link-type="idl" href="#dom-animationevent-animationcancel">animationcancel</a> event occurs when the animation stops
      running in a way that does not fire an <a data-link-type="idl" href="https://drafts.csswg.org/css-animations-1/#dom-animationevent-animationend">animationend</a> event, such
      as a change in the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-animations-1/#propdef-animation-name">animation-name</a> that removes the animation, or the
      animating element or one of its ancestors becoming <span class="css">display:none</span>.
      
     <ul>
        
      <li>Bubbles: Yes
      
        
      <li>Cancelable: No
      
        
      <li>Context Info: animationName, elapsedTime, pseudoElement
      
      
     </ul>
     
  
   </dl>


   <h3 class="heading settled" data-level="3.4" id="event-dispatch"><span class="secno">3.4. </span><span class="content">Event dispatch</span><a class="self-link" href="#event-dispatch"></a></h3>


   <p class="note" role="note">Note: This is a more general description of event dispatch than that of CSS
Animations Level 1 <a data-link-type="biblio" href="#biblio-css3-animations">[CSS3-ANIMATIONS]</a> since it must account for the
possibility of animations being seeked using the Web Animations API
<a data-link-type="biblio" href="#biblio-web-animations">[WEB-ANIMATIONS]</a>.</p>


   <p>For the purpose of determining which events to dispatch, an animation can
be considered to be in one of four mutually-exclusive <dfn data-dfn-type="dfn" data-lt="event state" data-noexport="" id="event-state">event states<a class="self-link" href="#event-state"></a></dfn> determined using the following procedure:</p>


   <ol>
    <li data-md="">
     <p>If the animation is <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#idle-play-state">idle</a> or has no <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#target-effect">target
effect</a> it is <dfn data-dfn-type="dfn" data-noexport="" id="idle">idle<a class="self-link" href="#idle"></a></dfn>.</p>
     

    <li data-md="">
     <p>Otherwise, if the animation has a <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#current-time">current time</a> less than the
<a data-link-type="dfn" href="http://w3c.github.io/web-animations/#start-delay">start delay</a> of its <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#target-effect">target effect</a>, or, if the animation’s
<a data-link-type="dfn" href="http://w3c.github.io/web-animations/#animation-playback-rate">playback rate</a> is less than zero and
it has a <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#current-time">current time</a> less than <em>or equal</em> to the
<a data-link-type="dfn" href="http://w3c.github.io/web-animations/#start-delay">start delay</a> of its <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#target-effect">target effect</a>, it is
<dfn data-dfn-type="dfn" data-noexport="" id="left_active">left-active<a class="self-link" href="#left_active"></a></dfn>.</p>
     

    <li data-md="">
     <p>Otherwise, if the animation has a <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#current-time">current time</a> greater than its
<a data-link-type="dfn" href="http://w3c.github.io/web-animations/#target-effect-end">target effect end</a>, or, if the animation’s
<a data-link-type="dfn" href="http://w3c.github.io/web-animations/#animation-playback-rate">playback rate</a> is greater than or equal
to zero and it has a <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#current-time">current time</a> greater than <em>or equal</em> to
its <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#target-effect-end">target effect end</a>, it is <dfn data-dfn-type="dfn" data-noexport="" id="right_active">right-active<a class="self-link" href="#right_active"></a></dfn>.</p>
     

    <li data-md="">
     <p>Otherwise, it is <dfn data-dfn-type="dfn" data-noexport="" id="active">active<a class="self-link" href="#active"></a></dfn>.</p>
     
</ol>

   <p>Each time the animation is <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#sampling">sampled</a>, the events to
dispatch are determined by comparing the <a data-link-type="dfn" href="#event-state">event state</a> before and
after the sample as follows:</p>


   <dl>
    <dt data-md="">
     <p>not <a data-link-type="dfn" href="#active">active</a> → <a data-link-type="dfn" href="#active">active</a></p>
     

    <dd data-md="">
     <p>animationstart</p>
     

    <dt data-md="">
     <p><a data-link-type="dfn" href="#left_active">left-active</a> → <a data-link-type="dfn" href="#right_active">right-active</a></p>
     

    <dt data-md="">
     <p><a data-link-type="dfn" href="#right_active">right-active</a> → <a data-link-type="dfn" href="#left_active">left-active</a></p>
     

    <dd data-md="">
     <p>animationstart, animationend</p>
     

    <dt data-md="">
     <p><a data-link-type="dfn" href="#active">active</a> → <a data-link-type="dfn" href="#left_active">left-active</a></p>
     

    <dt data-md="">
     <p><a data-link-type="dfn" href="#active">active</a> → <a data-link-type="dfn" href="#right_active">right-active</a></p>
     

    <dd data-md="">
     <p>animationend</p>
     

    <dt data-md="">
     <p><a data-link-type="dfn" href="#active">active</a> → <a data-link-type="dfn" href="#active">active</a></p>
     

    <dd data-md="">
     <p>animationiteration <em>if</em> there has been a change to the animation’s
 <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#target-effect">target effect</a>’s <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#current-iteration">current iteration</a></p>
     

    <dt data-md="">
     <p>not <a data-link-type="dfn" href="#idle">idle</a> → <a data-link-type="dfn" href="#idle">idle</a></p>
     

    <dd data-md="">
     <p>animationcancel</p>
     

</dl>

   <h2 class="heading settled" data-level="4" id="web-animations-instantiation-of-CSS-animations"><span class="secno">4. </span><span class="content">Web Animations Instantiation of CSS Animations</span><a class="self-link" href="#web-animations-instantiation-of-CSS-animations"></a></h2>


   <p>TODO: Copy prose from integration spec</p>


   <h3 class="heading settled" data-level="4.1" id="owning-element-section"><span class="secno">4.1. </span><span class="content">Owning element</span><a class="self-link" href="#owning-element-section"></a></h3>


   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="owning-element">owning element<a class="self-link" href="#owning-element"></a></dfn> of a CSS Animation refers to the element or
pseudo-element to which the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-animations-1/#propdef-animation-name">animation-name</a> property was applied that generated
the animation.</p>


   <p>If an animation was generated directly by script (e.g. using
the <code class="idl"><a data-link-type="idl" href="#dom-cssanimation-cssanimation">CSSAnimation()</a></code> constructor) then it has no <a data-link-type="dfn" href="#owning-element">owning element</a>.</p>


   <p>If an animation generated using the markup defined in this specification is
later disassociated from that markup by an update to the computed value of the
<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-animations-1/#propdef-animation-name">animation-name</a> property on the <a data-link-type="dfn" href="#owning-element">owning element</a>, the animation is
dissasociated from its <a data-link-type="dfn" href="#owning-element">owning element</a> (that is, it has no <a data-link-type="dfn" href="#owning-element">owning
element</a> from that point forwards).</p>


   <div class="note" role="note">


    <p>In the example below, <code>animation</code> initially has an <a data-link-type="dfn" href="#owning-element">owning
element</a> but the association is broken through an update to the
computed value of <code>elem</code>’s <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-animations-1/#propdef-animation-name">animation-name</a> property.</p>


    <pre class="example lang-javascript highlight" id="example-020f1dd7"><span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">animation</span> <span class="o">=</span> <span class="s1">'spin 1s'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">animation</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAnimations</span><span class="p">()[</span><span class="mi">0</span><span class="p">];</span> <span class="c1">// |animation|'s owning element is elem</span>
<span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">animation</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span> <span class="c1">// |animation| no longer has an owning element</span></pre>


    <p>Note that although the <a data-link-type="dfn" href="#owning-element">owning element</a> is often equal to the <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#target-element">target
element</a> of an animation’s <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#target-effect">target effect</a>, this is not always the case.
The following example demonstrates some of the situations where these two
elements may differ.</p>


    <pre class="example lang-javascript highlight" id="example-6a58778b"><span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">animation</span> <span class="o">=</span> <span class="s1">'move 1s'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">animation</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAnimations</span><span class="p">()[</span><span class="mi">0</span><span class="p">];</span>
<span class="c1">// animation.effect.target == elem == animation’s owning element</span>

<span class="kd">let</span> <span class="nx">mutableEffect</span> <span class="o">=</span> <span class="nx">animation</span><span class="p">.</span><span class="nx">effect</span><span class="p">.</span><span class="nx">clone</span><span class="p">();</span>
<span class="nx">animation</span><span class="p">.</span><span class="nx">effect</span> <span class="o">=</span> <span class="nx">mutableEffect</span><span class="p">;</span>
<span class="nx">animation</span><span class="p">.</span><span class="nx">effect</span><span class="p">.</span><span class="nx">target</span> <span class="o">=</span> <span class="nx">elem2</span><span class="p">;</span>
<span class="c1">// animation.effect.target == elem2 != animation’s owning element</span>

<span class="nx">animation</span><span class="p">.</span><span class="nx">effect</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
<span class="c1">// animation.effect.target is undefined != animation’s owning element</span></pre>

</div>


   <h3 class="heading settled" data-level="4.2" id="animation-composite-order"><span class="secno">4.2. </span><span class="content">Animation composite order</span><a class="self-link" href="#animation-composite-order"></a></h3>


   <p><a data-link-type="dfn" href="http://w3c.github.io/web-animations/#animation">Animations</a> generated from the markup and
interfaces (e.g. the <code class="idl"><a data-link-type="idl" href="#dom-cssanimation-cssanimation">CSSAnimation()</a></code> constructor) defined in this
specification have an <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#animation-type">animation type</a> of ‘CSS Animation’.</p>


   <p>CSS Animations <em>with</em> an <a data-link-type="dfn" href="#owning-element">owning element</a> have a <em>later</em>
composite order than CSS Transitions but an <em>earlier</em> composite order
than animations without a specific <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#animation-type">animation type</a>.</p>


   <p>Within the set of CSS Animations <em>with</em> an <a data-link-type="dfn" href="#owning-element">owning element</a>, two
animations <var>A</var> and <var>B</var> are sorted in composite order (first to
last) as follows:</p>


   <ol>
    <li data-md="">
     <p>If the <a data-link-type="dfn" href="#owning-element">owning element</a> of <var>A</var> and <var>B</var>
differs, sort <var>A</var> and <var>B</var> by <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-order">tree order</a>
of their corresponding <a data-link-type="dfn" href="#owning-element">owning elements</a>.
With regard to pseudo-elements, the sort order is as follows:</p>
     


     <ul>
      <li data-md="">
       <p>element</p>
       

      <li data-md="">
       <p>::before</p>
       

      <li data-md="">
       <p>::after</p>
       

      <li data-md="">
       <p>element children</p>
       
</ul>
     

    <li data-md="">
     <p>Otherwise, sort <var>A</var> and <var>B</var> based on their position in the
computed value of the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-animations-1/#propdef-animation-name">animation-name</a> property of the (common) <a data-link-type="dfn" href="#owning-element">owning
element</a>.</p>
     
</ol>

   <p>The composite order of CSS Animations <em>without</em> an <a data-link-type="dfn" href="#owning-element">owning element</a>
is based on their position in the <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#global-animation-list">global animation list</a>.</p>


   <p>CSS Animations generated using the markup defined in this specification are
<em>not</em> added to the <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#global-animation-list">global animation list</a> when they are created.
Instead, these animations are appended to the <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#global-animation-list">global animation list</a> at
the first moment when they transition out of the <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#idle-play-state">idle play state</a> after
being disassociated from their <a data-link-type="dfn" href="#owning-element">owning element</a>.
CSS Animations that have been disassociated from their <a data-link-type="dfn" href="#owning-element">owning element</a>
but are still <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#idle-play-state">idle</a> do not have a defined
composite order.</p>


   <p class="note" role="note">Note: This behavior relies on the fact that disassociating an animation
from its <a data-link-type="dfn" href="#owning-element">owning element</a> always causes it to enter (or remain) in the
<a data-link-type="dfn" href="http://w3c.github.io/web-animations/#idle-play-state">idle play state</a>.</p>


   <p>CSS Animations created using the <code class="idl"><a data-link-type="idl" href="#dom-cssanimation-cssanimation">CSSAnimation()</a></code> constructor are appended
to the <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#global-animation-list">global animation list</a> at the moment they are constructed.</p>


   <p class="issue" id="issue-cfac1180"><a class="self-link" href="#issue-cfac1180"></a> Would it be more consistent to append them at the moment they first
transition out of idle? (Just for animations created using <code class="idl"><a data-link-type="idl" href="#dom-cssanimation-cssanimation">CSSAnimation()</a></code>,
<em>not</em> for generic <code class="idl"><a data-link-type="idl" href="http://w3c.github.io/web-animations/#animation">Animation</a></code> objects.)</p>


   <h3 class="heading settled" data-level="4.3" id="interaction-between-animation-play-state-and-web-animations-API"><span class="secno">4.3. </span><span class="content">Interaction between <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-animations-1/#propdef-animation-play-state">animation-play-state</a> and the Web Animations API</span><a class="self-link" href="#interaction-between-animation-play-state-and-web-animations-API"></a></h3>


   <h2 class="heading settled" data-level="5" id="DOM-interfaces"><span class="secno">5. </span><span class="content">DOM interfaces</span><a class="self-link" href="#DOM-interfaces"></a></h2>


   <h3 class="heading settled" data-level="5.1" id="the-CSSAnimation-interface"><span class="secno">5.1. </span><span class="content">The CSSAnimation interface</span><a class="self-link" href="#the-CSSAnimation-interface"></a></h3>


   <pre class="idl">[<a class="idl-code" data-link-type="constructor" href="#dom-cssanimation-cssanimation">Constructor</a>(DOMString <dfn class="idl-code" data-dfn-for="CSSAnimation/CSSAnimation(animationName)" data-dfn-type="argument" data-export="" id="dom-cssanimation-cssanimation-animationname-animationname">animationName<a class="self-link" href="#dom-cssanimation-cssanimation-animationname-animationname"></a></dfn>)]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" id="cssanimation">CSSAnimation<a class="self-link" href="#cssanimation"></a></dfn> : <a data-link-type="idl-name" href="http://w3c.github.io/web-animations/#animation">Animation</a> {
  readonly attribute DOMString <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-cssanimation-animationname">animationName</a>;
};
</pre>


   <dl>
    <dt data-md="">
     <p><dfn class="idl-code" data-dfn-for="CSSAnimation" data-dfn-type="constructor" data-export="" data-lt="CSSAnimation(animationName)" id="dom-cssanimation-cssanimation">CSSAnimation (animationName)<a class="self-link" href="#dom-cssanimation-cssanimation"></a></dfn></p>
     

    <dd data-md="">
     <p>Creates a new <code class="idl"><a data-link-type="idl" href="#cssanimation">CSSAnimation</a></code> object.</p>
     


     <p>The <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#target-effect">target effect</a> of the newly-created object is a
<code class="idl"><a data-link-type="idl" href="http://w3c.github.io/web-animations/#keyframeeffectreadonly">KeyframeEffectReadOnly</a></code> object created using the procedure defined
in <a href="#resolving-an-animation-name">§2.1 Resolving an animation-name</a> and using
the <a data-link-type="dfn" href="https://html.spec.whatwg.org/#active-document">active document</a> as the context document.
The created <code class="idl"><a data-link-type="idl" href="http://w3c.github.io/web-animations/#keyframeeffectreadonly">KeyframeEffectReadOnly</a></code> object continues to track changes
to keyframes rules so long as it is attached to this object.</p>
     


     <p class="issue" id="issue-5867db9e"><a class="self-link" href="#issue-5867db9e"></a> It is not clear what the most reasonable behavior is here regarding
liveness. Could we make the generated object always track changes?
That would suggest a special sub-type of <code class="idl"><a data-link-type="idl" href="http://w3c.github.io/web-animations/#keyframeeffectreadonly">KeyframeEffectReadOnly</a></code> that
tracks its context document and animationName. Alternatively we could make
it a one-shot thing that creates a <code class="idl"><a data-link-type="idl" href="http://w3c.github.io/web-animations/#keyframeeffect">KeyframeEffect</a></code> object.</p>
     


    <dt data-md="">
     <p><dfn class="idl-code" data-dfn-for="CSSAnimation" data-dfn-type="attribute" data-export="" id="dom-cssanimation-animationname">animationName<a class="self-link" href="#dom-cssanimation-animationname"></a></dfn>, <span> of type <a data-link-type="idl-name" href="http://heycam.github.io/webidl/#idl-DOMString">DOMString</a>, readonly</span></p>
     

    <dd data-md="">
     <p>The key used to find matching keyframes rules that define <a data-link-type="dfn" href="http://w3c.github.io/web-animations/#target-effect">target
effect</a> at the point when the animation was created.
This is the value of the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-animations-1/#propdef-animation-name">animation-name</a> property that caused this
object to be generated or, if this object was generated using the
programming interface, the <code class="idl"><a data-link-type="idl" href="#dom-cssanimation-cssanimation">animationName</a></code> argument
that was passed to the <code class="idl"><a data-link-type="idl" href="#dom-cssanimation-cssanimation">CSSAnimation()</a></code> constructor.</p>
     
</dl>

   <h3 class="heading settled" data-level="5.2" id="requirements-on-pending-style-changes"><span class="secno">5.2. </span><span class="content">Requirements on pending style changes</span><a class="self-link" href="#requirements-on-pending-style-changes"></a></h3>


   <p>Various operations may affect the <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-4/#computed-value">computed values</a> of
properties on elements. User agents may, as an optimization, defer recomputing
these values until it becomes necessary.
However, all operations included in programming interface defined in this
specification, as well as those operations defined in Web Animations
<a data-link-type="biblio" href="#biblio-web-animations">[WEB-ANIMATIONS]</a> that may return objects defined by this specification,
must produce a result consistent with having fully processed any such pending
changes to computed values.</p>


   <div class="note" role="note">
As an example, in the following code fragment, when the specified style of
<code>elem</code> is initially updated, a user agent may defer recalculating
the computed value of the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-animations-1/#propdef-animation">animation</a> property.


    <p>However, the <code>getAnimations</code> method from the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element">Element</a></code> interface
which is specified by <a data-link-type="biblio" href="#biblio-web-animations">[WEB-ANIMATIONS]</a> can return <code class="idl"><a data-link-type="idl" href="#cssanimation">CSSAnimation</a></code> objects as
defined in this specification, and hence the user agent must calculate the
updated value <code>elem</code>’s <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-animations-1/#propdef-animation">animation</a> property and create
the requested <code class="idl"><a data-link-type="idl" href="#cssanimation">CSSAnimation</a></code> object before returning its result.</p>


    <div>
     <pre class="example lang-javascript highlight" id="example-bec75963"><span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">animation</span> <span class="o">=</span> <span class="s1">'fadeOut 1s'</span><span class="p">;</span>
<span class="nx">elem</span><span class="p">.</span><span class="nx">getAnimations</span><span class="p">()[</span><span class="mi">0</span><span class="p">].</span><span class="nx">pause</span><span class="p">();</span></pre></div>

</div>

</main>

  <h2 class="no-ref no-num heading settled" id="conformance"><span class="content">
Conformance</span><a class="self-link" href="#conformance"></a></h2>


  <h3 class="no-ref heading settled" id="conventions"><span class="content">
Document conventions</span><a class="self-link" href="#conventions"></a></h3>

    
  <p>Conformance requirements are expressed with a combination of
    descriptive assertions and RFC 2119 terminology. The key words "MUST",
    "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",
    "RECOMMENDED", "MAY", and "OPTIONAL" in the normative parts of this
    document are to be interpreted as described in RFC 2119.
    However, for readability, these words do not appear in all uppercase
    letters in this specification.

    </p>
  <p>All of the text of this specification is normative except sections
    explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a></p>

    
  <p>Examples in this specification are introduced with the words "for example"
    or are set apart from the normative text with <code>class="example"</code>,
    like this:

    </p>
  <div class="example" id="example-f839f6c8"><a class="self-link" href="#example-f839f6c8"></a>
        
   <p>This is an example of an informative example.</p>
   
    
  </div>

    
  <p>Informative notes begin with the word "Note" and are set apart from the
    normative text with <code>class="note"</code>, like this:

    </p>
  <p class="note" role="note">Note, this is an informative note.</p>

    
  <p>Advisements are normative sections styled to evoke special attention and are
    set apart from other normative text with <code>&lt;strong class="advisement"></code>, like
    this:

    <strong class="advisement">
        UAs MUST provide an accessible alternative.
    </strong>

</p>
  <h3 class="no-ref heading settled" id="conformance-classes"><span class="content">
Conformance classes</span><a class="self-link" href="#conformance-classes"></a></h3>

    
  <p>Conformance to this specification
    is defined for three conformance classes:
    </p>
  <dl>
        
   <dt>style sheet
            
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
            style sheet</a>.
        
   <dt>renderer
            
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
            that interprets the semantics of a style sheet and renders
            documents that use them.
        
   <dt>authoring tool
            
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
            that writes a style sheet.
    
  </dl>

    
  <p>A style sheet is conformant to this specification
    if all of its statements that use syntax defined in this module are valid
    according to the generic CSS grammar and the individual grammars of each
    feature defined in this module.

    </p>
  <p>A renderer is conformant to this specification
    if, in addition to interpreting the style sheet as defined by the
    appropriate specifications, it supports all the features defined
    by this specification by parsing them correctly
    and rendering the document accordingly. However, the inability of a
    UA to correctly render a document due to limitations of the device
    does not make the UA non-conformant. (For example, a UA is not
    required to render color on a monochrome monitor.)

    </p>
  <p>An authoring tool is conformant to this specification
    if it writes style sheets that are syntactically correct according to the
    generic CSS grammar and the individual grammars of each feature in
    this module, and meet all other conformance requirements of style sheets
    as described in this module.

</p>
  <h3 class="no-ref heading settled" id="partial"><span class="content">
Partial implementations</span><a class="self-link" href="#partial"></a></h3>

    
  <p>So that authors can exploit the forward-compatible parsing rules to
    assign fallback values, CSS renderers <strong>must</strong>
    treat as invalid (and <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignore
    as appropriate</a>) any at-rules, properties, property values, keywords,
    and other syntactic constructs for which they have no usable level of
    support. In particular, user agents <strong>must not</strong> selectively
    ignore unsupported component values and honor supported values in a single
    multi-value property declaration: if any value is considered invalid
    (as unsupported values must be), CSS requires that the entire declaration
    be ignored.</p>


  <h3 class="no-ref heading settled" id="experimental"><span class="content">
Experimental implementations</span><a class="self-link" href="#experimental"></a></h3>

    
  <p>To avoid clashes with future CSS features, the CSS2.1 specification
    reserves a <a href="http://www.w3.org/TR/CSS21/syndata.html#vendor-keywords">prefixed
    syntax</a> for proprietary and experimental extensions to CSS.

    </p>
  <p>Prior to a specification reaching the Candidate Recommendation stage
    in the W3C process, all implementations of a CSS feature are considered
    experimental. The CSS Working Group recommends that implementations
    use a vendor-prefixed syntax for such features, including those in
    W3C Working Drafts. This avoids incompatibilities with future changes
    in the draft.
    </p>


  <h3 class="no-ref heading settled" id="testing"><span class="content">
Non-experimental implementations</span><a class="self-link" href="#testing"></a></h3>

    
  <p>Once a specification reaches the Candidate Recommendation stage,
    non-experimental implementations are possible, and implementors should
    release an unprefixed implementation of any CR-level feature they
    can demonstrate to be correctly implemented according to spec.

    </p>
  <p>To establish and maintain the interoperability of CSS across
    implementations, the CSS Working Group requests that non-experimental
    CSS renderers submit an implementation report (and, if necessary, the
    testcases used for that implementation report) to the W3C before
    releasing an unprefixed implementation of any CSS features. Testcases
    submitted to W3C are subject to review and correction by the CSS
    Working Group.

    </p>
  <p>Further information on submitting testcases and implementation reports
    can be found from on the CSS Working Group’s website at
    <a href="http://www.w3.org/Style/CSS/Test/">http://www.w3.org/Style/CSS/Test/</a>.
    Questions should be directed to the
    <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>
    mailing list.



</p>
  <h2 class="no-num heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="indexlist">
   <li>active, <a href="#active">3.4</a>
   <li>animationcancel, <a href="#dom-animationevent-animationcancel">3.3</a>
   <li>animation-composition, <a href="#propdef-animation-composition">3.1</a>
   <li>animationName
    <ul>
     <li>argument for CSSAnimation/CSSAnimation(animationName), <a href="#dom-cssanimation-cssanimation-animationname-animationname">5.1</a>
     <li>attribute for CSSAnimation, <a href="#dom-cssanimation-animationname">5.1</a>
    </ul>
   <li>CSSAnimation, <a href="#cssanimation">5.1</a>
   <li>CSSAnimation(animationName), <a href="#dom-cssanimation-cssanimation">5.1</a>
   <li>event state, <a href="#event-state">3.4</a>
   <li>idle, <a href="#idle">3.4</a>
   <li>left-active, <a href="#left_active">3.4</a>
   <li>owning element, <a href="#owning-element">4.1</a>
   <li>right-active, <a href="#right_active">3.4</a>
   <li>&lt;single-animation-composition>, <a href="#typedef-single-animation-composition">3.1</a>
  </ul>
  <h3 class="no-num heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="indexlist">
   <li><a data-link-type="biblio" href="#biblio-html">[HTML]</a> defines the following terms:
    <ul>
     <li><a href="https://html.spec.whatwg.org/#active-document">active document</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-css-animations-1">[css-animations-1]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-animations-1/#propdef-animation">animation</a>
     <li><a href="https://drafts.csswg.org/css-animations-1/#propdef-animation-name">animation-name</a>
     <li><a href="https://drafts.csswg.org/css-animations-1/#propdef-animation-play-state">animation-play-state</a>
     <li><a href="https://drafts.csswg.org/css-animations-1/#dom-animationevent-animationend">animationend</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-css-cascade-4">[css-cascade-4]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-cascade-4/#computed-value">computed value</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-css-values-3">[css-values-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-values-3/#mult-comma">#</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-dom-ls">[dom-ls]</a> defines the following terms:
    <ul>
     <li><a href="https://dom.spec.whatwg.org/#element">Element</a>
     <li><a href="https://dom.spec.whatwg.org/#concept-tree-order">tree order</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-web-animations">[web-animations]</a> defines the following terms:
    <ul>
     <li><a href="http://w3c.github.io/web-animations/#animation">Animation</a>
     <li><a href="http://w3c.github.io/web-animations/#keyframeeffect">KeyframeEffect</a>
     <li><a href="http://w3c.github.io/web-animations/#keyframeeffectreadonly">KeyframeEffectReadOnly</a>
     <li><a href="http://w3c.github.io/web-animations/#animation">animation</a>
     <li><a href="http://w3c.github.io/web-animations/#animation-playback-rate">animation playback rate</a>
     <li><a href="http://w3c.github.io/web-animations/#animation-type">animation type</a>
     <li><a href="http://w3c.github.io/web-animations/#current-iteration">current iteration</a>
     <li><a href="http://w3c.github.io/web-animations/#current-time">current time</a>
     <li><a href="http://w3c.github.io/web-animations/#global-animation-list">global animation list</a>
     <li><a href="http://w3c.github.io/web-animations/#idle-play-state">idle play state</a>
     <li><a href="http://w3c.github.io/web-animations/#sampling">sampling</a>
     <li><a href="http://w3c.github.io/web-animations/#start-delay">start delay</a>
     <li><a href="http://w3c.github.io/web-animations/#target-effect">target effect</a>
     <li><a href="http://w3c.github.io/web-animations/#target-effect-end">target effect end</a>
     <li><a href="http://w3c.github.io/web-animations/#target-element">target element</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-webidl">[WebIDL]</a> defines the following terms:
    <ul>
     <li><a href="http://heycam.github.io/webidl/#idl-DOMString">DOMString</a>
    </ul>
  </ul>
  <h2 class="no-num heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-html"><a class="self-link" href="#biblio-html"></a>[HTML]
   <dd>Ian Hickson. <a href="https://html.spec.whatwg.org/multipage/">HTML Standard</a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-webidl"><a class="self-link" href="#biblio-webidl"></a>[WebIDL]
   <dd>Cameron McCormack; Boris Zbarsky. <a href="http://www.w3.org/TR/WebIDL-1/">WebIDL Level 1</a>. 4 August 2015. WD. URL: <a href="http://www.w3.org/TR/WebIDL-1/">http://www.w3.org/TR/WebIDL-1/</a>
   <dt id="biblio-css-animations-1"><a class="self-link" href="#biblio-css-animations-1"></a>[CSS-ANIMATIONS-1]
   <dd>CSS Animations Module Level 1 URL: <a href="http://www.w3.org/TR/css3-animations/">http://www.w3.org/TR/css3-animations/</a>
   <dt id="biblio-css-cascade-4"><a class="self-link" href="#biblio-css-cascade-4"></a>[CSS-CASCADE-4]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="http://www.w3.org/TR/css-cascade-4/">CSS Cascading and Inheritance Level 4</a>. 21 April 2015. WD. URL: <a href="http://www.w3.org/TR/css-cascade-4/">http://www.w3.org/TR/css-cascade-4/</a>
   <dt id="biblio-css-values-3"><a class="self-link" href="#biblio-css-values-3"></a>[CSS-VALUES-3]
   <dd>CSS Values and Units Module Level 3 URL: <a href="http://www.w3.org/TR/css3-values/">http://www.w3.org/TR/css3-values/</a>
   <dt id="biblio-css3-animations"><a class="self-link" href="#biblio-css3-animations"></a>[CSS3-ANIMATIONS]
   <dd>Dean Jackson; et al. <a href="http://www.w3.org/TR/css3-animations/">CSS Animations</a>. 19 February 2013. WD. URL: <a href="http://www.w3.org/TR/css3-animations/">http://www.w3.org/TR/css3-animations/</a>
   <dt id="biblio-dom-ls"><a class="self-link" href="#biblio-dom-ls"></a>[DOM-LS]
   <dd>Document Object Model URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-rfc2119"><a class="self-link" href="#biblio-rfc2119"></a>[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
   <dt id="biblio-web-animations"><a class="self-link" href="#biblio-web-animations"></a>[WEB-ANIMATIONS]
   <dd>Brian Birtles; et al. <a href="http://www.w3.org/TR/web-animations-1/">Web Animations</a>. 7 July 2015. WD. URL: <a href="http://www.w3.org/TR/web-animations-1/">http://www.w3.org/TR/web-animations-1/</a>
  </dl>
  <h2 class="no-num heading settled" id="property-index"><span class="content">Property Index</span><a class="self-link" href="#property-index"></a></h2>
  <table class="proptable data">
   <thead>
    <tr>
     <th scope="col">Name
     <th scope="col">Value
     <th scope="col">Initial
     <th scope="col">Applies to
     <th scope="col">Inh.
     <th scope="col">%ages
     <th scope="col">Media
     <th scope="col">Animatable
     <th scope="col">Canonical order
     <th scope="col">Computed value
   <tbody>
    <tr>
     <th scope="row"><a class="css" data-link-type="property" href="#propdef-animation-composition">animation-composition</a>
     <td>&lt;single-animation-composition>#
     <td>replace
     <td>all elements, ::before and ::after pseudo-elements
     <td>none
     <td>N/A
     <td>interactive
     <td>no
     <td>per grammar
     <td>As specified
  </table>
  <h2 class="no-num heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
  <pre class="idl">[<a class="idl-code" data-link-type="constructor" href="#dom-cssanimation-cssanimation">Constructor</a>(DOMString <a href="#dom-cssanimation-cssanimation-animationname-animationname">animationName</a>)]
interface <a href="#cssanimation">CSSAnimation</a> : <a data-link-type="idl-name" href="http://w3c.github.io/web-animations/#animation">Animation</a> {
  readonly attribute DOMString <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-cssanimation-animationname">animationName</a>;
};

</pre>
  <h2 class="no-num heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> Something like this: <a href="https://lists.w3.org/Archives/Public/www-style/2015Jul/0391.html">https://lists.w3.org/Archives/Public/www-style/2015Jul/0391.html</a>.<a href="#issue-d5205d6c"> ↵ </a></div>
   <div class="issue"> Would it be more consistent to append them at the moment they first
transition out of idle? (Just for animations created using <code class="idl"><a data-link-type="idl" href="#dom-cssanimation-cssanimation">CSSAnimation()</a></code>,
<em>not</em> for generic <code class="idl"><a data-link-type="idl" href="http://w3c.github.io/web-animations/#animation">Animation</a></code> objects.)<a href="#issue-cfac1180"> ↵ </a></div>
   <div class="issue"> It is not clear what the most reasonable behavior is here regarding
liveness. Could we make the generated object always track changes?
That would suggest a special sub-type of <code class="idl"><a data-link-type="idl" href="http://w3c.github.io/web-animations/#keyframeeffectreadonly">KeyframeEffectReadOnly</a></code> that
tracks its context document and animationName. Alternatively we could make
it a one-shot thing that creates a <code class="idl"><a data-link-type="idl" href="http://w3c.github.io/web-animations/#keyframeeffect">KeyframeEffect</a></code> object.<a href="#issue-5867db9e"> ↵ </a></div>
  </div></body>
</html>